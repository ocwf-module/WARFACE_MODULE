# Импортирование и настройка содержимого уровня в WF MOD SDK 1.4.5

После того, как вы извлекли всё содержимое уровня, вам нужно всё это импортировать в редактор, для воссоздания карты в нём. Здесь я буду ссылаться и продолжать смысл предыдущей инструкции «Mission_Extact», чтобы мне не пришлось придумывать ничего нового, а вам было проще воспринимать информацию. 

# Процесс импортирования

После действий из предыдущей инструкции, у вас должна остаться папка с картой по пути: \[MSDK_Editor/Game/Levels\] (предположем и разберём на примере карты \[tdm_downtown\]). После этапа с дампером, я надеюсь, что вы отсортировали, полученные в ходе его работы, файлы в папке \[MSDK_Editor/Game/Levels/tdm_downtown/Setting/\], чтобы вам же было удобнее работать. Далее следуем инструкции:
1. Переименуйте папку с картой (в моём случае \[tdm_downtown\]) во что-то другое, например, просто добавьте единичку в конце (у меня это будет \[tdm_downtown1\]). А также откройте \[level.pak\] карты как архив, найдите и откройте в нём файл \[mission_mission0.xml\], так как он вам понадобится далее;
2. Далее открываем редактор \[\[MSDK_Editor/Bin64/Editor.exe]\] и создаём новый уровень (в верхней панели File —> New);
	
 	2.1 Называем наш уровень оригинальным названием карты (в моём случае \[tdm_downtown\] уже без единички), именно поэтому к нашей папке с файлами мы добавляли единичку, так как если бы мы называли карту так же, как и папку с файлами, то редактор выдавал бы ошибку;
	
 	2.2 В пункте \[Heightmap Resolution\] мы выбираем тот размер, который будет указан в названии файла, который извлекал дампер до этого, а именно \[dump_terrain_***.raw\], на месте звёздочек будут цифры, которые соответствуют размеру стороны квадрата террейна (в моём случае файл имеет название \[dump_terrain_256.raw\], а это значит, что в пункте \[Heightmap Resolution\] нужно выбрать \[256x256\]);
	
 	2.3 В пункте \[Meters Per Unit\] всегда выбираем единицу;
	
 	2.4 Нажимаем \[Ok\];

![image](https://github.com/user-attachments/assets/93ad48a5-0ebd-4482-9ba3-841199806f7d)

3. После того, как уровень загрузился, нам необходимо убрать с него воду (океан) для удобства работы. Для этого ищем вкладку \[Edit Terrain\], нажимаем на неё и там во вкладке \[Modify\] нажимаем \[Remove Water\]. Вода нам не нужна, так как в основном на картах Warface используется кастомная вода.
4. А теперь приступаем к импортированию карты. Начнём с импортирования слоёв, так как нам надо увидеть, куда нам нужно прилететь, из-за того, что наша камера спавнится немного в другом месте. Для импортирования слоёв необходимо:

	4.1 В меню \[Rollup Bar\] перейти во вкладку \[Layers\];
	
 	4.2 Нажать на иконку папки с названием \[Import Layers\];

	4.3 В появившемся окне найти нашу папку с файлами карты, а в ней уже файлы слоёв (в моём случае: \[MSDK_Editor/Game/Levels/tdm_downtown/Setting/Layers/\]);

	4.4 Выбрать (выделить) все файлы слоёв (файлы имеют расширение \[.lyr\]) нажатием \[Ctrl + A\] или мышкой;

	4.5 Нажать \[Открыть\] и ждать окончания загрузки;

5. После окончания загрузки ищем в пространстве наши объекты и летим к ним;
6. Далее нам нужно импортировать Terrain, но с ним есть небольшая заморочка, требуется вручную повернуть карту высот на 90 градусов против часовой стрелки с помощью графического редактора, поддерживающего работу с raw-файлами (к примеру, Photoshop):

	6.1 Ищем уже знакомый файл \[dump_terrain_***.raw\] и открываем его в любой программе, которая может работать с raw-файлами;
   
   	6.2 Поворачиваем изображение на 90 градусов против часовой стрелки;
   
	6.3 Сохраняем по этому же пути с немного другим названием (например: \[dump_terrain_256_90.raw\]);
   
	6.4 В редакторе опять открываем вкладку \[Edit Terrain\], там во вкладке \[File\] нажимаем \[Import Heightmap\];
   
	6.5 Выбираем наш повёрнутый файл, нажимаем \[Открыть\] и ждём окончания загрузки;

7. Теперь импортируем Time Of Day (TOD), для этого:

	7.1 Во вкладке \[Terrain\] ищем пункт \[Time Of Day\] и нажимаем на него;
   
	7.2 В появившемся окне в меню \[Time of Day Tasks\] нажимаем на \[Import From File\];
   
	7.3 В появившемся окне ищем файл, который мы извлекали, под названием \[TimeOfDay.tod\];
   
	7.4 Нажимаем \[Открыть\] и ждём окончания загрузки;

8. Далее импортируем значения Lighting:

	8.1 Во вкладке \[Edit Terrain Lighting\] нажимаем \[Import\] и импортируем файл \[LightSettings.lgt\];

	8.2 А значение \[Time Of Day\] ставим такое же, как и в значении \[Time\] в первой строчке файла \[mission_mission0.xml\];

9. Теперь осталось ввести необходимые значения для придания карте почти истинного вида:

	9.1 В меню \[Rollup Bar\] перейти во вкладку \[Terrain\], а там нажимаем на \[Environment\];

	9.2 Открываем ранее открытый файл \[mission_mission0.xml\];

	9.3 Ищем в нём раздел \[\<Environment\>\] и переносим с него все значения в редактор;

10. Ну и если вы самостоятельно захотите отрисовать текстуру Terrain (так как её на данный момент невозможно восстановить автоматически), сделайте это:

	10.1 Перейдите во вкладку












